{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jaehyeong/Documents/code/python-project/PROJECT/5th/movie/frontend/src/routes/pages/Recommend/RecommendPresenter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { Link, useHistory, withRouter } from 'react-router-dom';\nimport { DropdownButton, Dropdown, Button, Card } from 'react-bootstrap'; // axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n// axios.defaults.xsrfCookieName = \"XCSRF-TOKEN\";\n// axios.defaults.withCredentials = true\n\nconst RecommendPresenter = props => {\n  _s();\n\n  let history = useHistory();\n  const [movies, setMovies] = useState([{\n    \"movie_id\": 10001,\n    \"movie_title\": \"시네마 천국\",\n    \"movie_url\": \"https://movie.naver.com/movie/bi/mi/basic.naver?code=10001\",\n    \"movie_aud\": 9.63,\n    \"movie_net\": 9.33,\n    \"movie_rep\": 8.38,\n    \"movie_poster\": \"https://movie-phinf.pstatic.net/20210409_134/16179547654813MHq5_JPEG/movie_image.jpg?type=m203_290_2\",\n    \"movie_genre\": 2,\n    \"movie_country\": 10,\n    \"movie_runtime\": 124,\n    \"movie_release\": \"2020-04-22\",\n    \"movie_director\": \"쥬세페 토르나토레\",\n    \"movie_age\": 4,\n    \"movie_content\": \"어린 시절 영화가 세상의 전부였던 소년 토토는 학교 수업을 마치면 마을 광장에 있는 낡은 시네마 천국이라는 극장으로 달려가 영사 기사 알프레도와 친구로 지내며 어깨너머로 영사기술을 배운다. 어느 날 관객들을 위해 광장에서 야외 상영을 해주던 알프레도가 그만 화재 사고로 실명하게 되고 토토가 그의 뒤를 이어 시네마 천국의 영상기사로 일하게 된다. 실명한 후에도 토토의 친구이자 아버지로 든든한 정신적 지주가 되어준 알프레도는 청년이 된 토토가 사랑하는 여자 엘레나의 부모님의 반대로 좌절하자 넓은 세상으로 나가서 더 많은 것을 배우라며 권유하는데...\"\n  }]);\n  ;\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const loadRecommend = async () => {\n      setLoading(true);\n      const config = {\n        headers: {\n          \"content-type\": \"application/json\" // \"xsrfHeaderName\": 'X-CSRFToken'\n\n        }\n      };\n      await axios.get(`/api/recommend/${props.match.params.genre}/${props.match.params.movie1}/${props.match.params.movie2}/${props.match.params.movie3}/`, config).then(response => {\n        //전체 영화데이터\n        setMovies(response.data);\n        setTimeout(() => {\n          setLoading(false);\n        }, 2000);\n      });\n    };\n\n    loadRecommend();\n  }, []);\n\n  const handleClickReset = () => {\n    props.history.goBack();\n  };\n\n  const handleClickShare = () => {\n    const dummy = document.createElement(\"input\");\n    const text = window.location.href;\n    document.body.appendChild(dummy);\n    dummy.value = text;\n    dummy.select();\n    document.execCommand(\"copy\");\n    document.body.removeChild(dummy);\n    enqueueSnackbar(`URL이 복사되었습니다.`, {\n      variant: 'info'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommendation\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD68C\\uC6D0\\uB2D8\\uC5D0\\uAC8C \\uCD94\\uCC9C\\uB41C \\uC601\\uD654\\uC785\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uD68C\\uC6D0\\uB2D8\\uC774 \\uC88B\\uC544\\uD558\\uC2E4 \\uB9CC\\uD55C \\uC601\\uD654\\uB97C \\uB354 \\uB9CE\\uC774 \\uCD94\\uCC9C\\uD574\\uB4DC\\uB9B4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \", /*#__PURE__*/_jsxDEV(Link, {\n            onClick: handleClickReset,\n            children: \"\\uB2E4\\uC2DC \\uC120\\uD0DD\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 103\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: '/search',\n            children: \" \\uC54C\\uC544\\uC11C \\uBCFC\\uAC8C\\uC694!! < Click\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 108\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movieposter\",\n        children: movies.map((movie, i) => {\n          return /*#__PURE__*/_jsxDEV(Link, {\n            to: `/${movie.movie_id}`,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"img-responsive2\",\n              src: movie.movie_poster,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RecommendPresenter, \"BiALZFKc6ncFELkVQ6kEqHFy7lc=\", false, function () {\n  return [useHistory];\n});\n\n_c = RecommendPresenter;\nexport default _c2 = withRouter(RecommendPresenter);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RecommendPresenter\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/jaehyeong/Documents/code/python-project/PROJECT/5th/movie/frontend/src/routes/pages/Recommend/RecommendPresenter.js"],"names":["React","useEffect","useState","useRef","axios","Cookies","Link","useHistory","withRouter","DropdownButton","Dropdown","Button","Card","RecommendPresenter","props","history","movies","setMovies","loading","setLoading","loadRecommend","config","headers","get","match","params","genre","movie1","movie2","movie3","then","response","data","setTimeout","handleClickReset","goBack","handleClickShare","dummy","document","createElement","text","window","location","href","body","appendChild","value","select","execCommand","removeChild","enqueueSnackbar","variant","map","movie","i","movie_id","movie_poster"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nimport { Link, useHistory, withRouter } from 'react-router-dom';\nimport {DropdownButton, Dropdown, Button, Card} from 'react-bootstrap';\n\n\n// axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n// axios.defaults.xsrfCookieName = \"XCSRF-TOKEN\";\n// axios.defaults.withCredentials = true\n\nconst RecommendPresenter = (props) => {\n\n    let history = useHistory();\n    const [movies, setMovies] = useState([\n        {\n          \"movie_id\": 10001,\n          \"movie_title\": \"시네마 천국\",\n          \"movie_url\": \"https://movie.naver.com/movie/bi/mi/basic.naver?code=10001\",\n          \"movie_aud\": 9.63,\n          \"movie_net\": 9.33,\n          \"movie_rep\": 8.38,\n          \"movie_poster\": \"https://movie-phinf.pstatic.net/20210409_134/16179547654813MHq5_JPEG/movie_image.jpg?type=m203_290_2\",\n          \"movie_genre\": 2,\n          \"movie_country\": 10,\n          \"movie_runtime\": 124,\n          \"movie_release\": \"2020-04-22\",\n          \"movie_director\": \"쥬세페 토르나토레\",\n          \"movie_age\": 4,\n          \"movie_content\": \"어린 시절 영화가 세상의 전부였던 소년 토토는 학교 수업을 마치면 마을 광장에 있는 낡은 시네마 천국이라는 극장으로 달려가 영사 기사 알프레도와 친구로 지내며 어깨너머로 영사기술을 배운다. 어느 날 관객들을 위해 광장에서 야외 상영을 해주던 알프레도가 그만 화재 사고로 실명하게 되고 토토가 그의 뒤를 이어 시네마 천국의 영상기사로 일하게 된다. 실명한 후에도 토토의 친구이자 아버지로 든든한 정신적 지주가 되어준 알프레도는 청년이 된 토토가 사랑하는 여자 엘레나의 부모님의 반대로 좌절하자 넓은 세상으로 나가서 더 많은 것을 배우라며 권유하는데...\"\n        }\n      ]);\n    ;\n    const [loading, setLoading] = useState(false);\n    useEffect(() => {\n        const loadRecommend = async() => {\n            setLoading(true)\n            const config = {\n                headers: {\n                    \"content-type\": \"application/json\",\n                    // \"xsrfHeaderName\": 'X-CSRFToken'\n                }\n            };\n            await axios.get(`/api/recommend/${props.match.params.genre}/${props.match.params.movie1}/${props.match.params.movie2}/${props.match.params.movie3}/`, config).then((response)=>{//전체 영화데이터\n                setMovies(response.data)\n                setTimeout(() => {\n                    setLoading(false)\n                }, 2000)\n            }); \n        }\n        loadRecommend();\n      }, []);\n    \n    const handleClickReset = () => {\n        props.history.goBack()\n    }\n    const handleClickShare = () => {\n        const dummy   = document.createElement(\"input\");\n        const text    = window.location.href;\n        \n        document.body.appendChild(dummy);\n        dummy.value = text;\n        dummy.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(dummy);\n        enqueueSnackbar(`URL이 복사되었습니다.`, { variant: 'info'});\n    }\n    return(\n        <div className='content'>\n            {loading?\n            <div>\n                Loading...\n            </div>\n            :\n            <>\n            <div className='recommendation'>\n                <h1>회원님에게 추천된 영화입니다.</h1>\n                <p>회원님이 좋아하실 만한 영화를 더 많이 추천해드릴 수 있습니다. <Link onClick={handleClickReset}>다시 선택하기</Link><br/><Link to={'/search'}> 알아서 볼게요!! &lt; Click</Link></p>\n                <p></p>\n            </div>\n            <div className='movieposter'>\n            {movies.map((movie,i)=>{\n                return(\n                    <Link to={`/${movie.movie_id}`}><img className='img-responsive2' src={movie.movie_poster} alt=\"\" /></Link>\n                )\n            })}\n            </div>\n            </>\n            }\n        </div>\n    )\n};\n\nexport default withRouter(RecommendPresenter);\n"]},"metadata":{},"sourceType":"module"}