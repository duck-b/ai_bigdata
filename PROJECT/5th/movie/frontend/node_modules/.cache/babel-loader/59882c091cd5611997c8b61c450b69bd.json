{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jaehyeong/Documents/code/python-project/PROJECT/5th/movie/frontend/src/routes/pages/Main/MainPresenter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { Link, useHistory } from 'react-router-dom';\nimport { DropdownButton, Dropdown, Button, Card } from 'react-bootstrap';\n\nconst MainPresenter = () => {\n  _s();\n\n  let [genre, genreChange] = useState(['공연실황', '드라마', '다큐멘터리', '애니메이션', '모험', '액션', 'SF', '멜로/로맨스', '전쟁', '범죄', '판타지', '서부', '한국', '뮤지컬', '공포', '미스터리', '스릴러', '서스펜스', '느와르', '서사']);\n  let history = useHistory();\n  const [movies, setMovies] = useState([{\n    \"movie_id\": 10001,\n    \"movie_title\": \"시네마 천국\",\n    \"movie_url\": \"https://movie.naver.com/movie/bi/mi/basic.naver?code=10001\",\n    \"movie_aud\": 9.63,\n    \"movie_net\": 9.33,\n    \"movie_rep\": 8.38,\n    \"movie_poster\": \"https://movie-phinf.pstatic.net/20210409_134/16179547654813MHq5_JPEG/movie_image.jpg?type=m203_290_2\",\n    \"movie_genre\": 2,\n    \"movie_country\": 10,\n    \"movie_runtime\": 124,\n    \"movie_release\": \"2020-04-22\",\n    \"movie_director\": \"쥬세페 토르나토레\",\n    \"movie_age\": 4,\n    \"movie_content\": \"어린 시절 영화가 세상의 전부였던 소년 토토는 학교 수업을 마치면 마을 광장에 있는 낡은 시네마 천국이라는 극장으로 달려가 영사 기사 알프레도와 친구로 지내며 어깨너머로 영사기술을 배운다. 어느 날 관객들을 위해 광장에서 야외 상영을 해주던 알프레도가 그만 화재 사고로 실명하게 되고 토토가 그의 뒤를 이어 시네마 천국의 영상기사로 일하게 된다. 실명한 후에도 토토의 친구이자 아버지로 든든한 정신적 지주가 되어준 알프레도는 청년이 된 토토가 사랑하는 여자 엘레나의 부모님의 반대로 좌절하자 넓은 세상으로 나가서 더 많은 것을 배우라며 권유하는데...\"\n  }]);\n  ;\n  useEffect(() => {\n    const loadMovies = async () => {\n      const config = {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      };\n      await axios.get(`/api/`, config).then(response => {\n        //전체 영화데이터\n        // console.log(response.data)\n        setMovies(response.data);\n      });\n    };\n\n    loadMovies();\n  }, []);\n  const [checkedMovie, setCheckedMovie] = useState([]);\n\n  const handleClickImage = movie => {\n    if (checkedMovie.length < 3) {\n      let checked = false;\n      let i = 0;\n\n      for (i; i < checkedMovie.length; i++) {\n        if (checkedMovie[i].movie_id === movie.movie_id) {\n          checked = true;\n          break;\n        }\n      }\n\n      if (checked) {\n        const updateCheckedMovies = [...checkedMovie];\n        updateCheckedMovies.splice(i, 1);\n        setCheckedMovie(updateCheckedMovies);\n      } else {\n        const updateCheckedMovies = [...checkedMovie];\n        updateCheckedMovies.push(movie);\n        setCheckedMovie(updateCheckedMovies);\n      }\n    } else {\n      alert('3개까지만 선택 가능합니다!');\n    }\n  };\n\n  const [number, setNumber] = useState(0);\n\n  const changeCate = name => {\n    if (name === '공연실황') return 1;else if (name === '드라마') return 2;else if (name === '다큐멘터리') return 3;else if (name === '애니메이션') return 4;else if (name === '모험') return 5;else if (name === '액션') return 6;else if (name === 'SF') return 7;else if (name === '멜로/로맨스') return 8;else if (name === '전쟁') return 9;else if (name === '범죄') return 10;else if (name === '판타지') return 11;else if (name === '가족') return 12;else if (name === '코미디') return 13;else if (name === '서부') return 14;else if (name === '한국') return 15;else if (name === '뮤지컬') return 16;else if (name === '공포') return 17;else if (name === '미스터리') return 18;else if (name === '스릴러') return 19;else if (name === '서스펜스') return 20;else if (name === '느와르') return 21;else if (name === '서사') return 22;\n  };\n\n  const [genreValue, SetGenreValue] = useState();\n  const [genreName, setGenreName] = useState();\n\n  const countGenre = movie => {\n    console.log(movie);\n  };\n\n  const FindGenreValue = (e, j) => {\n    SetGenreValue(changeCate(j));\n  };\n\n  const genreFilter = movies => {\n    const filterGenre = movies.filter(item => item.movie_genre == genreValue);\n    return filterGenre;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"goBack\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        onClick: () => {\n          history.goBack();\n        },\n        src: \"img/back.svg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendation\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uC88B\\uC544\\uD558\\uB294 \\uCF58\\uD150\\uCE20\\uB97C 3\\uAC1C \\uC120\\uD0DD\\uD558\\uC138\\uC694!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD68C\\uC6D0\\uB2D8\\uC774 \\uC88B\\uC544\\uD558\\uC2E4 \\uB9CC\\uD55C \\uC601\\uD654\\uB97C \\uB354 \\uB9CE\\uC774 \\uCD94\\uCC9C\\uD574\\uB4DC\\uB9B4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uB9C8\\uC74C\\uC5D0 \\uB4DC\\uB294 \\uCF58\\uD150\\uCE20\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 74\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: '/search',\n          children: \" \\uC54C\\uC544\\uC11C \\uBCFC\\uAC8C\\uC694!! < Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 79\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-list\",\n      children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n        id: \"dropdown-item-button\",\n        title: \"\\uC7A5\\uB974\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",\n        children: genre.map(function (j) {\n          return /*#__PURE__*/_jsxDEV(Link, {\n            children: /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: e => {\n                FindGenreValue(e, j);\n              },\n              children: j\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row ml-0 mt-1 mb-1\",\n        children: checkedMovie.map((movie, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-4\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: movie.movie_poster,\n              height: \"200px\",\n              width: \"60px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: movie.movie_title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: [movie.movie_content.substr(0, 100), movie.movie_content.length == 100 ? '...' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-primary\",\n                className: \"mr-1\",\n                children: \"\\uBC14\\uB85C\\uBCF4\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outline-danger\",\n                children: \"\\uC120\\uD0DD\\uCDE8\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn clickrecomm\",\n        children: \"\\uB0B4 \\uCDE8\\uD5A5\\uC5D0 \\uB9DE\\uAC8C \\uCD94\\uCC9C\\uBC1B\\uAE30!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"current-numbers\",\n          children: [\"\\uD604\\uC7AC\\uAE4C\\uC9C0 \\uC120\\uD0DD\\uB41C \\uC601\\uD654\\uC758 \\uAC1C\\uC218: \", checkedMovie.length, \"\\uAC1C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"movieposter\",\n          children: genreFilter(movies).map((movie, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-responsive\",\n            src: movie.movie_poster,\n            alt: i,\n            onClick: () => {\n              handleClickImage(movie);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MainPresenter, \"MA18nMH+ajfeDBLXi7J4dDE1MZ4=\", false, function () {\n  return [useHistory];\n});\n\n_c = MainPresenter;\nexport default MainPresenter;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPresenter\");","map":{"version":3,"sources":["/Users/jaehyeong/Documents/code/python-project/PROJECT/5th/movie/frontend/src/routes/pages/Main/MainPresenter.js"],"names":["React","useEffect","useState","useRef","axios","Link","useHistory","DropdownButton","Dropdown","Button","Card","MainPresenter","genre","genreChange","history","movies","setMovies","loadMovies","config","headers","get","then","response","data","checkedMovie","setCheckedMovie","handleClickImage","movie","length","checked","i","movie_id","updateCheckedMovies","splice","push","alert","number","setNumber","changeCate","name","genreValue","SetGenreValue","genreName","setGenreName","countGenre","console","log","FindGenreValue","e","j","genreFilter","filterGenre","filter","item","movie_genre","goBack","map","width","movie_poster","movie_title","movie_content","substr"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\n\nimport { Link, useHistory } from 'react-router-dom';\nimport {DropdownButton, Dropdown, Button, Card} from 'react-bootstrap';\n\nconst MainPresenter = () => {\n  let [genre, genreChange]=useState(['공연실황', '드라마', '다큐멘터리', '애니메이션', '모험', '액션', 'SF', '멜로/로맨스', '전쟁', '범죄', '판타지', '서부', '한국', '뮤지컬', '공포', '미스터리', '스릴러' , '서스펜스', '느와르', '서사'])\n\n    let history = useHistory();\n    const [movies, setMovies] = useState([\n        {\n          \"movie_id\": 10001,\n          \"movie_title\": \"시네마 천국\",\n          \"movie_url\": \"https://movie.naver.com/movie/bi/mi/basic.naver?code=10001\",\n          \"movie_aud\": 9.63,\n          \"movie_net\": 9.33,\n          \"movie_rep\": 8.38,\n          \"movie_poster\": \"https://movie-phinf.pstatic.net/20210409_134/16179547654813MHq5_JPEG/movie_image.jpg?type=m203_290_2\",\n          \"movie_genre\": 2,\n          \"movie_country\": 10,\n          \"movie_runtime\": 124,\n          \"movie_release\": \"2020-04-22\",\n          \"movie_director\": \"쥬세페 토르나토레\",\n          \"movie_age\": 4,\n          \"movie_content\": \"어린 시절 영화가 세상의 전부였던 소년 토토는 학교 수업을 마치면 마을 광장에 있는 낡은 시네마 천국이라는 극장으로 달려가 영사 기사 알프레도와 친구로 지내며 어깨너머로 영사기술을 배운다. 어느 날 관객들을 위해 광장에서 야외 상영을 해주던 알프레도가 그만 화재 사고로 실명하게 되고 토토가 그의 뒤를 이어 시네마 천국의 영상기사로 일하게 된다. 실명한 후에도 토토의 친구이자 아버지로 든든한 정신적 지주가 되어준 알프레도는 청년이 된 토토가 사랑하는 여자 엘레나의 부모님의 반대로 좌절하자 넓은 세상으로 나가서 더 많은 것을 배우라며 권유하는데...\"\n        }\n      ]);\n    ;\n    useEffect(() => {\n        const loadMovies = async() => {\n            const config = {\n                headers: {\n                    \"content-type\": \"application/json\"\n                }\n            };\n            await axios.get(`/api/`, config).then((response)=>{//전체 영화데이터\n                // console.log(response.data)\n                setMovies(response.data)\n            }); \n        }\n        loadMovies();\n      }, []);\n    const [checkedMovie, setCheckedMovie] = useState([])\n    const handleClickImage = (movie) => {\n        if (checkedMovie.length < 3){\n            let checked = false;\n            let i = 0;\n            for(i; i < checkedMovie.length; i++){\n                if(checkedMovie[i].movie_id === movie.movie_id){\n                    checked = true;\n                    break;\n                }\n            }\n            if(checked){\n                const updateCheckedMovies = [...checkedMovie]\n                updateCheckedMovies.splice(i, 1)\n                setCheckedMovie(updateCheckedMovies)\n            }else{\n                const updateCheckedMovies = [...checkedMovie]\n                updateCheckedMovies.push(movie)\n                setCheckedMovie(updateCheckedMovies)\n            }\n        }else{\n            alert('3개까지만 선택 가능합니다!')\n        }\n    }\n    const [number, setNumber] = useState(0);\n\n \n    const changeCate=( name )=>{\n        if( name === '공연실황') return 1\n        else if( name === '드라마') return 2\n        else if( name === '다큐멘터리') return 3\n        else if( name === '애니메이션') return 4\n        else if( name === '모험') return 5\n        else if( name === '액션') return 6\n        else if( name === 'SF') return 7\n        else if( name === '멜로/로맨스') return 8\n        else if( name === '전쟁') return 9\n        else if( name === '범죄') return 10\n        else if( name === '판타지') return 11\n        else if( name === '가족') return 12\n        else if( name === '코미디') return 13\n        else if( name === '서부') return 14\n        else if( name === '한국') return 15\n        else if( name === '뮤지컬') return 16\n        else if( name === '공포') return 17\n        else if( name === '미스터리') return 18\n        else if( name === '스릴러') return 19\n        else if( name === '서스펜스') return 20\n        else if( name === '느와르') return 21\n        else if( name === '서사') return 22\n    }\n    const [genreValue, SetGenreValue] = useState();\n    const [genreName, setGenreName] = useState();\n    const countGenre=(movie)=>{\n        console.log(movie)\n    }\n    const FindGenreValue= (e,j) =>{\n        SetGenreValue(changeCate(j))\n    }\n    const genreFilter = (movies) =>{\n        const filterGenre = movies.filter((item)=> item.movie_genre == genreValue)\n        return filterGenre\n    }\n    return(\n        <div className='content'>\n            <div className='goBack'><img onClick={()=>{ history.goBack(); }} src=\"img/back.svg\" alt=\"\" /></div>\n            <div className='recommendation'>\n                <h1>좋아하는 콘텐츠를 3개 선택하세요!</h1>\n                <p>회원님이 좋아하실 만한 영화를 더 많이 추천해드릴 수 있습니다. 마음에 드는 콘텐츠를 선택하세요.<br/><Link to={'/search'}> 알아서 볼게요!! &lt; Click</Link></p>\n            </div>\n            <div className='movie-list'>\n                <DropdownButton id=\"dropdown-item-button\" title=\"장르를 선택하세요\">\n                    {genre.map(function(j){\n                        return <Link><Dropdown.Item onClick={(e)=>{FindGenreValue(e,j)}}>{j}</Dropdown.Item></Link>\n                    })}\n                </DropdownButton>\n                <div className='row ml-0 mt-1 mb-1'>\n                    {checkedMovie.map((movie, i) =>(\n                    <div className='col-sm-4'>\n                        <Card style={{ width: '100%' }}>\n                            <Card.Img variant=\"top\" src={movie.movie_poster} height='200px' width='60px'/>\n                            <Card.Body>\n                                <Card.Title>{movie.movie_title}</Card.Title>\n                                <Card.Text>\n                                    {movie.movie_content.substr(0, 100)}\n                                    {movie.movie_content.length == 100 ? '...' : ''}\n                                </Card.Text>\n                                <Button variant=\"outline-primary\" className=\"mr-1\">바로보기</Button>\n                                <Button variant=\"outline-danger\">선택취소</Button>\n                            </Card.Body>\n                        </Card>\n                    </div>\n                    ))}\n                </div>\n                \n                <button className='btn clickrecomm'>내 취향에 맞게 추천받기!</button>\n                \n                <div className='row'>\n                    <h5 className='current-numbers'>현재까지 선택된 영화의 개수: {checkedMovie.length}개</h5>\n                    <div className='movieposter'>\n                                {genreFilter(movies).map((movie, i)=>(\n                                    <img className='img-responsive' src={movie.movie_poster} alt={i} onClick={() => { handleClickImage(movie); }}/>\n                                ))}  \n                    </div>     \n                </div>\n                \n            </div>\n        </div>\n    )\n};\n\nexport default MainPresenter;\n"]},"metadata":{},"sourceType":"module"}